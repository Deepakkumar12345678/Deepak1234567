<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Private Locked Site</title>
<style>
body{
  margin:0; padding:0;
  background:#000; color:#fff;
  font-family:Arial, sans-serif;
}

/* Lock Screen */
#lockScreen{
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  height:100vh; text-align:center;
}
.lockBox{
  background:rgba(255,255,255,0.05);
  padding:20px; border-radius:12px;
  width:80%; max-width:350px;
  backdrop-filter:blur(4px);
}
input{
  width:100%; padding:10px;
  border:none; margin-top:10px;
  border-radius:6px;
}
button{
  width:100%; padding:10px; margin-top:12px;
  background:#1e90ff; border:none;
  color:white; border-radius:6px;
  font-size:16px;
}

/* Main App */
#mainApp{
  display:none; padding:20px;
}
.section{
  background:rgba(255,255,255,0.05);
  border-radius:10px; padding:10px;
  margin-top:12px;
}
.small-btn{
  padding:6px 12px;
  background:#444; color:#fff;
  border:none; border-radius:6px;
  font-size:13px;
}
.muted{opacity:0.6; font-size:13px;}
</style>
</head>
<body>

<!-- LOCK SCREEN -->
<div id="lockScreen">
  <div class="lockBox">
    <h2>üîí Private Access</h2>
    <input id="password" type="password" placeholder="Enter Password">
    <button onclick="unlockNow()">Unlock</button>
  </div>
</div>

<!-- MAIN APP -->
<div id="mainApp">

<h2>üìå Admin Message</h2>
<div id="adminMsg" class="section">Loading...</div>

<h2>üìù User Message</h2>
<div class="section">
  <textarea id="userMsg" style="width:100%;height:80px;border-radius:6px;padding:8px;"></textarea>
  <button id="sendUserMsg" class="small-btn">Save Message</button>
  <button id="downloadUserMsgs" class="small-btn">Download</button>
  <button id="clearUserMsgs" class="small-btn">Clear</button>
  <div id="savedUserMsgs" style="margin-top:10px;"></div>
</div>

<h2>üìÅ Hidden Photos</h2>
<div id="photosArea" class="section"></div>

<h2>üé• Hidden Videos</h2>
<div id="videosArea" class="section"></div>

<h2>üìö Notes</h2>
<div id="notesArea" class="section"></div>

</div>

<script>
/* TTS Function */
function speak(t){
  const v = new SpeechSynthesisUtterance(t);
  v.lang = "hi-IN";
  speechSynthesis.speak(v);
}

/* Unlock System */
function unlockNow(){
  const p = document.getElementById("password").value.trim();
  if(p !== "DTYPL5133"){
    speak("‡§ó‡§≤‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§π‡•à‡•§");
    alert("Wrong Password!");
  } else {
    speak("Access granted.");
    document.getElementById("lockScreen").style.display = "none";
    document.getElementById("mainApp").style.display = "block";
    loadAdminMessage();
  }
}

/* Load Admin Message from messages.json */
function loadAdminMessage(){
  fetch("messages.json")
  .then(r => r.json())
  .then(d => {
    document.getElementById("adminMsg").innerHTML =
      `<div>${d.message}</div>
       <div class='muted'>${d.timestamp}</div>`;
  })
  .catch(()=>{
    document.getElementById("adminMsg").innerText = "Error loading message.";
  });
}

/* Hidden Section Default Content */
document.getElementById("photosArea").innerHTML =
  "<div class='muted'>No photos uploaded.</div>";
document.getElementById("videosArea").innerHTML =
  "<div class='muted'>No videos uploaded.</div>";
document.getElementById("notesArea").innerHTML =
  "<div class='muted'>No notes available.</div>";

/* User Message System */
function getUserMsgs(){
  return JSON.parse(localStorage.getItem("userMsgs") || "[]");
}
function renderUserMsgs(){
  let arr = getUserMsgs();
  const box = document.getElementById("savedUserMsgs");
  if(arr.length === 0){
    box.innerHTML = "<div class='muted'>No saved messages.</div>";
  } else {
    box.innerHTML = arr.map(m => `
      <div style='padding:8px;border-radius:8px;background:rgba(255,255,255,0.05);margin-bottom:8px;'>
        ${m.text}
        <div class='muted'>${m.time}</div>
      </div>
    `).join("");
  }
}
renderUserMsgs();

document.getElementById("sendUserMsg").onclick = ()=>{
  const txt = document.getElementById("userMsg").value.trim();
  if(!txt){ speak("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§"); return; }
  let arr = getUserMsgs();
  arr.push({text:txt, time:new Date().toLocaleString()});
  localStorage.setItem("userMsgs", JSON.stringify(arr));
  document.getElementById("userMsg").value = "";
  renderUserMsgs();
  speak("‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§");
};

document.getElementById("downloadUserMsgs").onclick = ()=>{
  const data = JSON.stringify(getUserMsgs(), null, 2);
  const blob = new Blob([data], {type:"application/json"});
  const url = URL.createObjectURL(blob);
  const a=document.createElement("a");
  a.href=url; a.download="user-messages.json";
  a.click(); URL.revokeObjectURL(url);
  speak("‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§");
};

document.getElementById("clearUserMsgs").onclick = ()=>{
  localStorage.removeItem("userMsgs");
  renderUserMsgs();
  speak("‡§∏‡§≠‡•Ä ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§π‡§ü‡§æ‡§è ‡§ó‡§Ø‡•á‡•§");
};
</script>

</body>
</html>
